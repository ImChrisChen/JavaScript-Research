<html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <title>观察者模式ES5实现</title></head><body><button id="addNewObserver">Add New Observer checkbox</button><input id="mainCheckbox" type="checkbox"/><div id="observersContainer"></div></body></html><script src="./observer.js"></script><script>    // 我们DOM 元素的引用    let controlCheckbox = document.getElementById("mainCheckbox"),        addBtn = document.getElementById("addNewObserver"),        container = document.getElementById("observersContainer");    // 具体的被观察者    //Subject 类扩展controlCheckbox 类    extend(new Subject(), controlCheckbox);    console.dir(controlCheckbox);    //点击checkbox 将会触发对观察者的通知 (new Function eval解析字符串)    // controlCheckbox["onclick"] = new Function("controlCheckbox.Notify(controlCheckbox.checked)");    controlCheckbox.onclick = function () {        this.Notify(this.checked)    }    addBtn["onclick"] = AddNewObserver;    // 具体的观察者    function AddNewObserver() {        //建立一个新的用于增加的checkbox        let check = document.createElement("input");        check.type = "checkbox";        // 使用Observer 类扩展checkbox        extend(new Observer(), check);        // 使用定制的Update函数重载        check.Update = function (value) {            this.checked = value;        };        // 增加新的观察者到我们主要的被观察者的观察者列表中        controlCheckbox.AddObserver(check);        // 将元素添加到容器的最后        container.appendChild(check);    }</script>