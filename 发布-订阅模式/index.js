/** * Created by IntelliJ IDEA. * User: chrischen * Date: 2020/5/9 * Time: 6:03 下午 */// 一个非常简单的邮件处理器// 接受的消息的计数器let mailCounter = 0;// 初始化一个订阅者，这个订阅者监听名叫"inbox/newMessage" 的频道// 渲染新消息的粗略信息let subscriber1 = subscribe( "inbox/newMessage", function( topic, data ) {  // 日志记录主题，用于调试  console.log( "A new message was received: ", topic );  // 使用来自于被观察者的数据，用于给用户展示一个消息的粗略信息  $( ".messageSender" ).html( data.sender );  $( ".messagePreview" ).html( data.body );});// 这是另外一个订阅者，使用相同的数据执行不同的任务// 更细计数器，显示当前来自于发布者的新信息的数量let subscriber2 = subscribe( "inbox/newMessage", function( topic, data ) {  $('.newMessageCounter').html( mailCounter++ );});publish( "inbox/newMessage", [{  sender:"hello@google.com",  body: "Hey there! How are you doing today?"}]);// 在之后，我们可以让我们的订阅者通过下面的方式取消订阅来自于新主题的通知// unsubscribe( subscriber1,  );// unsubscribe( subscriber2 );